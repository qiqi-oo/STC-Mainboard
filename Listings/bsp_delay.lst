C51 COMPILER V9.60.0.0   BSP_DELAY                                                         09/20/2025 15:17:35 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE BSP_DELAY
OBJECT MODULE PLACED IN .\Objects\bsp_delay.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Bsp\bsp_delay.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(
                    -.\Listings\bsp_delay.lst) TABS(2) OBJECT(.\Objects\bsp_delay.obj)

line level    source

   1          #include "./User/includes.h"
   2          #include "intrins.h"
   3          
   4          
   5          #ifdef  STC12C5A60S2
   6          
   7          //========================================================================
   8          // 函数: void Delay1ms()    //@11.0592MHz
   9          // 描述: 延时1毫秒函数
  10          // 参数：无
  11          // 返回: 无
  12          // 版本: V1.0, 2022-10-17
  13          //========================================================================
  14          static void Delay1ms()    //@11.0592MHz
  15          {
  16   1        unsigned char i, j;
  17   1      
  18   1        _nop_();
  19   1        i = 11;
  20   1        j = 190;
  21   1        do
  22   1        {
  23   2          while (--j);
  24   2        } while (--i);
  25   1      }
  26          //========================================================================
  27          // 函数: delay_ms(u16 count)    //@11.0592MHz
  28          // 参数：count,为需要延时的毫秒数，最大值为65535.
  29          // 返回: 无
  30          // 版本: V1.0, 2022-10-17
  31          //========================================================================
  32          void delay_ms(u16 count)    //@11.0592MHz
  33          {
  34   1          while(count--)
  35   1          {
  36   2            Delay1ms();
  37   2          }
  38   1      }
  39          
  40          //========================================================================
  41          // 函数: Delay50us(u16 count)   //@11.0592MHz
  42          // 返回: 无
  43          // 版本: V1.0, 2022-10-17
  44          //========================================================================
  45          void delay50us(void)  //@11.0592MHz
  46          {
  47   1        unsigned char data i;
  48   1      
  49   1        _nop_();
  50   1        i = 135;
  51   1        while (--i);
  52   1      }
  53          #endif
  54          
C51 COMPILER V9.60.0.0   BSP_DELAY                                                         09/20/2025 15:17:35 PAGE 2   

  55          
  56          #ifdef  STC15W4K48S4
              
              //========================================================================
              // 函数: void  delay_ms(unsigned char ms)
              // 描述: 延时函数。
              // 参数: ms,要延时的ms数, 这里只支持1~255ms. 自动适应主时钟.
              // 返回: none.
              // 版本: VER1.0
              // 日期: 2013-4-1
              // 备注: 
              //========================================================================
              void  delay_ms(u16 ms)
              {
                   unsigned int i;
                 do{
                      i = MAIN_Fosc / 13000;
                    while(--i)  ;   //14T per loop
                   }while(--ms);
              }
              
              #endif
  77          
  78          
  79          
  80          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     38    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
